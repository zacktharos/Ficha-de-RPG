<!DOCTYPE html><html lang="pt-br"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ficha RPG</title><link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Inter:wght@400;600&display=swap" rel="stylesheet"><script src="https://unpkg.com/@tailwindcss/browser@4"></script><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script><style>body{font-family:'Inter',sans-serif;background:#f5f5f5;color:#000;display:flex;min-height:100vh;margin:0;padding:20px;background-image:url('medieval_background.jpg');background-size:cover;background-position:center;transition:background .3s,color .3s}body.dark-mode{background:#121212;color:#e0e0e0}#fichas-sidebar{width:100%;height:60px;background:#fff;padding:10px 0;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;position:fixed;top:0;left:0;box-shadow:0 2px 5px rgba(0,0,0,.3);z-index:1000;overflow-x:auto}.ficha-tab{width:100px;height:50px;background:#f0e6d2;border:2px solid #b8860b;border-radius:10px 10px 0 0;margin-right:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease,transform .2s ease;box-shadow:2px 2px 5px rgba(0,0,0,.2)}.ficha-tab:hover{background:#a0522d;transform:translateY(-5px)}.ficha-tab.active{background:#a0522d;transform:translateY(-5px)}.ficha-tab span{font-family:'MedievalSharp',serif;color:#000;font-size:.9rem;text-align:center;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#add-ficha-btn{width:100px;height:50px;background:#f0e6d2;border:2px solid #b8860b;border-radius:10px 10px 0 0;margin-right:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s ease;box-shadow:0 0 10px #ffd700,0 0 20px #ffd700;z-index:1001}#add-ficha-btn span{font-family:'MedievalSharp',serif;color:#000;font-size:.9rem}#add-ficha-btn:hover{background:#a0522d;transform:translateY(-5px)}#ficha-container{background:rgba(240,230,210,.95);padding:30px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,.2);width:95%;max-width:1200px;margin:80px auto 20px;border:2px solid #b8860b;position:relative}body.dark-mode #ficha-container{background:rgba(30,30,30,.95);color:#e0e0e0}h1#nome-personagem-titulo{font-family:'MedievalSharp',serif;color:#1C2526;font-size:3rem;margin-bottom:20px;text-align:center;text-shadow:1px 1px 2px rgba(0,0,0,.1);animation:raios 2s infinite linear}@keyframes raios{0%{text-shadow:0 0 5px #FFD700,0 0 10px #FFD700,0 0 15px #FFD700,0 0 20px #FF4500}50%{text-shadow:0 0 10px #FFD700,0 0 15px #FFD700,0 0 20px #FF4500,0 0 25px #FF4500}100%{text-shadow:0 0 5px #FFD700,0 0 10px #FFD700,0 0 15px #FFD700,0 0 20px #FF4500}}section{background:#f0e6d2;border:2px solid #b8860b;border-radius:8px;padding:15px;margin-bottom:20px}section h2{text-align:center}body.dark-mode section{background:#1e1e1e;border-color:#444}label{font-weight:600;color:#000;margin-bottom:8px;display:block}body.dark-mode label{color:#e0e0e0}input[type="text"],input[type="number"],textarea{padding:10px;border:2px solid #b8860b;border-radius:6px;width:calc(100% - 24px);margin-bottom:15px;font-size:1rem;transition:border-color .3s ease;background:#fff;color:#000}body.dark-mode input[type="text"],body.dark-mode input[type="number"],body.dark-mode textarea{background:#333;color:#e0e0e0;border-color:#555}input[type="text"]:focus,input[type="number"]:focus,textarea:focus{border-color:#a0522d;outline:none;box-shadow:0 2px 5px rgba(0,0,0,.1)}.atributos-container{display:flex;justify-content:space-between;gap:20px}.atributos-coluna{width:48%;display:flex;flex-direction:column;align-items:flex-start}.vida-magia-vigor{display:flex;justify-content:space-around;gap:15px;flex-wrap:wrap}.atributo-container{background:rgba(255,255,255,.8);padding:12px;border-radius:8px;border:1px solid #b8860b;box-shadow:0 2px 4px rgba(0,0,0,.1);width:30%;min-width:200px;text-align:center}body.dark-mode .atributo-container{background:rgba(50,50,50,.8)}.medieval-box{background:#f0e6d2;border:2px solid #b8860b;border-radius:8px;padding:10px;margin:5px 0;text-align:center}body.dark-mode .medieval-box{background:#1e1e1e;border-color:#444}button{background:#b8860b;color:#fff;border:none;padding:5px 10px;cursor:pointer;font-size:1.2rem;border-radius:4px;margin:0 5px;transition:background-color .3s ease}body.dark-mode button{background:#555}button:hover{background:#a0522d}#dice-container{position:absolute;top:20px;right:20px;width:200px;text-align:center;font-family:'MedievalSharp',serif;cursor:move;z-index:10;user-select:none}#dice-roll{width:100px;height:100px;background:#f0e6d2;border:2px solid #b8860b;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:2rem;cursor:pointer;margin:0 auto;position:relative;transition:all .3s ease}body.dark-mode #dice-roll{background:#1e1e1e;border-color:#444}#notification{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;border-radius:8px;font-family:'MedievalSharp',serif;font-size:1.5rem;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.5);display:none;z-index:100;background:rgba(0,0,0,.7);transition:opacity .3s ease}#notification.critical-failure{background:rgba(255,0,0,.8);animation:aura-vermelha 2s infinite}#notification.critical-success{background:rgba(0,255,0,.8);animation:aura-verde 2s infinite}@keyframes aura-vermelha{0%{box-shadow:0 0 5px #ff0000,0 0 10px #ff0000}50%{box-shadow:0 0 15px #ff0000,0 0 20px #ff0000}100%{box-shadow:0 0 5px #ff0000,0 0 10px #ff0000}}@keyframes aura-verde{0%{box-shadow:0 0 5px #00ff00,0 0 10px #00ff00}50%{box-shadow:0 0 15px #00ff00,0 0 20px #00ff00}100%{box-shadow:0 0 5px #00ff00,0 0 10px #00ff00}}</style></head><body><div id="fichas-sidebar"><div id="add-ficha-btn"><span>+ Fichas</span></div></div><div id="ficha-container"><h1 id="nome-personagem-titulo">Ficha de Personagem</h1><div id="dice-container"><label>Role seu dado:</label><div id="dice-roll">-</div><div id="dice-result"></div></div><section id="informacoes-basicas"><h2>Informações Básicas</h2><label for="nome-personagem">Nome:</label><input type="text" id="nome-personagem" placeholder="Digite o nome"><label for="descricao-personagem">Descrição:</label><textarea id="descricao-personagem" placeholder="Digite a descrição"></textarea></section><section id="recursos"><h2>Recursos</h2><div class="vida-magia-vigor"><div class="atributo-container vida"><h3>Vida</h3><div class="medieval-box"><span>Vida Total: </span><span id="vida-total">50</span></div><div class="medieval-box"><span>Vida Atual: </span><button onclick="diminuirVida()">▼</button><span id="vida-atual">50</span><button onclick="aumentarVida()">▲</button></div></div><div class="atributo-container magia"><h3>Magia</h3><div class="medieval-box"><span>Magia Total: </span><span id="magia-total">20</span></div><div class="medieval-box"><span>Magia Atual: </span><button onclick="diminuirMagia()">▼</button><span id="magia-atual">20</span><button onclick="aumentarMagia()">▲</button></div></div><div class="atributo-container vigor"><h3>Vigor</h3><div class="medieval-box"><span>Vigor Total: </span><span id="vigor-total">10</span></div><div class="medieval-box"><span>Vigor Atual: </span><button onclick="diminuirVigor()">▼</button><span id="vigor-atual">10</span><button onclick="aumentarVigor()">▲</button></div></div></div></section><section id="atributos"><h2>Atributos</h2><div class="atributos-container"><div class="atributos-coluna"><div><label for="forca">Força:</label><input type="number" id="forca" value="0" min="0"></div><div><label for="destreza">Destreza:</label><input type="number" id="destreza" value="0" min="0"></div><div><label for="agilidade">Agilidade:</label><input type="number" id="agilidade" value="0" min="0"></div><div><label for="constituicao">Constituição:</label><input type="number" id="constituicao" value="0" min="0"></div><div><label for="inteligencia">Inteligência:</label><input type="number" id="inteligencia" value="0" min="0"></div></div></div></section></div><div id="notification"></div><script>const firebaseConfig={apiKey:"AIzaSyBbbwbwPXv6gztkyP3TXK-DtooEI7FcClI",authDomain:"ficha-de-rpg-b9685.firebaseapp.com",databaseURL:"https://ficha-de-rpg-b9685-default-rtdb.firebaseio.com",projectId:"ficha-de-rpg-b9685",storageBucket:"ficha-de-rpg-b9685.firebasestorage.app",messagingSenderId:"528610398062",appId:"1:528610398062:web:8fdb9cfd5ded8167613b7f"};firebase.initializeApp(firebaseConfig);const db=firebase.database();let fichas={},currentFichaId=null,isFichaLocked=false,vidaTotal,vidaAtual,magiaTotal,magiaAtual,vigorTotal,vigorAtual;function criarFichaMatriz(){const fichaId="ficha-matriz",fichaMatriz={nomeFicha:"Matriz",nomePersonagem:"Personagem Matriz",forca:"0",destreza:"0",agilidade:"0",inteligencia:"0",constituicao:"0",isLocked:true};db.ref("fichas/ficha-matriz").once("value",s=>{if(s.exists()){currentFichaId=fichaId;carregarFicha(fichaId);carregarFichas();}else{db.ref(`fichas/${fichaId}`).set(fichaMatriz).then(()=>{currentFichaId=fichaId;carregarFicha(fichaId);});}});}function carregarFichas(){db.ref("fichas").on("value",s=>{fichas=s.val()||{};if(fichas["ficha-matriz"]){atualizarAbasFichas();}else{criarFichaMatriz();}});db.ref("ultimo_dado").on("value",s=>{const d=s.val();if(d&&d.fichaNome!==fichas[currentFichaId].nomeFicha){showNotification(`${d.fichaNome} Rolou: ${d.resultado}`,"normal-result");}});}function atualizarAbasFichas(){const s=document.getElementById("fichas-sidebar"),a=document.getElementById("add-ficha-btn");while(s.children.length>1)s.removeChild(s.children[0]);for(let f in fichas){if(f!=="ficha-matriz"){const t=document.createElement("div");t.className="ficha-tab";const sp=document.createElement("span");sp.textContent=fichas[f].nomeFicha||"Sem Nome";t.appendChild(sp);t.dataset.fichaId=f;if(f===currentFichaId)t.classList.add("active");t.onclick=()=>{currentFichaId=f;carregarFicha(f);atualizarAbasFichas();};s.insertBefore(t,a);}}}document.getElementById("add-ficha-btn").onclick=()=>{document.getElementById("nome-ficha-modal").style.display="flex";document.getElementById("nome-ficha-input").value="";};function criarNovaFicha(){const n=document.getElementById("nome-ficha-input").value.trim();if(!n)return alert("Dê um nome à ficha!");const id=db.ref("fichas").push().key,ficha={nomeFicha:n,nomePersonagem:"",forca:"0",destreza:"0",agilidade:"0",inteligencia:"0",constituicao:"0",isLocked:false};db.ref(`fichas/${id}`).set(ficha).then(()=>{currentFichaId=id;carregarFicha(id);document.getElementById("nome-ficha-modal").style.display="none";atualizarAbasFichas();});}function carregarFicha(f){if(!fichas[f])return;const d=fichas[f];document.getElementById("nome-personagem").value=d.nomePersonagem||"";document.getElementById("forca").value=d.forca||"0";document.getElementById("destreza").value=d.destreza||"0";document.getElementById("agilidade").value=d.agilidade||"0";document.getElementById("inteligencia").value=d.inteligencia||"0";document.getElementById("constituicao").value=d.constituicao||"0";isFichaLocked=d.isLocked||false;calcularAtributos();vidaAtual=vidaTotal;magiaAtual=magiaTotal;vigorAtual=vigorTotal;document.getElementById("vida-atual").textContent=vidaAtual;document.getElementById("magia-atual").textContent=magiaAtual;document.getElementById("vigor-atual").textContent=vigorAtual.toFixed(1);}function salvarDados(){if(!currentFichaId)return;const d={nomePersonagem:document.getElementById("nome-personagem").value,forca:document.getElementById("forca").value,destreza:document.getElementById("destreza").value,agilidade:document.getElementById("agilidade").value,inteligencia:document.getElementById("inteligencia").value,constituicao:document.getElementById("constituicao").value,isLocked:isFichaLocked};db.ref(`fichas/${currentFichaId}`).update(d).then(()=>{showNotification("Salvo!","save-success");});}function aumentarVida(){if(vidaAtual<vidaTotal){vidaAtual++;document.getElementById("vida-atual").textContent=vidaAtual;salvarDados();}}function diminuirVida(){if(vidaAtual>0){vidaAtual--;document.getElementById("vida-atual").textContent=vidaAtual;salvarDados();}}function aumentarMagia(){if(magiaAtual<magiaTotal){magiaAtual++;document.getElementById("magia-atual").textContent=magiaAtual;salvarDados();}}function diminuirMagia(){if(magiaAtual>0){magiaAtual--;document.getElementById("magia-atual").textContent=magiaAtual;salvarDados();}}function aumentarVigor(){if(vigorAtual<vigorTotal){vigorAtual=Math.min(vigorAtual+.1,vigorTotal);document.getElementById("vigor-atual").textContent=vigorAtual.toFixed(1);salvarDados();}}function diminuirVigor(){if(vigorAtual>0){vigorAtual=Math.max(vigorAtual-.1,0);document.getElementById("vigor-atual").textContent=vigorAtual.toFixed(1);salvarDados();}}function calcularAtributos(){const f=parseInt(document.getElementById("forca").value)||0,d=parseInt(document.getElementById("destreza").value)||0,a=parseInt(document.getElementById("agilidade").value)||0,i=parseInt(document.getElementById("inteligencia").value)||0,c=parseInt(document.getElementById("constituicao").value)||0;vidaTotal=50+c*3;magiaTotal=20+c*3;vigorTotal=(10+c*.4).toFixed(1);document.getElementById("vida-total").textContent=vidaTotal;document.getElementById("magia-total").textContent=magiaTotal;document.getElementById("vigor-total").textContent=vigorTotal;}let isDragging=false,currentX=20,currentY=20;document.getElementById("dice-container").onmousedown=e=>{isDragging=true;currentX=e.clientX-20;currentY=e.clientY-20;};document.onmousemove=e=>{if(isDragging){e.preventDefault();currentX=e.clientX-20;currentY=e.clientY-20;document.getElementById("dice-container").style.left=`${currentX}px`;document.getElementById("dice-container").style.top=`${currentY}px`;}};document.onmouseup=()=>{isDragging=false;};function enviarResultadoDado(f,r){db.ref("ultimo_dado").set({fichaNome:f,resultado:r});}document.getElementById("dice-roll").onclick=()=>{if(isFichaLocked)return;const dr=document.getElementById("dice-roll"),drs=document.getElementById("dice-result");dr.textContent="Rolling...";drs.style.display="none";setTimeout(()=>{const r=Math.floor(Math.random()*20)+1,f=fichas[currentFichaId].nomeFicha||"Sem Nome";enviarResultadoDado(f,r);dr.textContent=r;drs.textContent=`${f} rolou: ${r}`;drs.style.display="block";showNotification(`${f} rolou: ${r}`,r===1?"critical-failure":r===20?"critical-success":"normal-result");},1000);};function showNotification(m,t){const n=document.getElementById("notification");n.textContent=m;n.className="notification "+t;n.style.display="block";setTimeout(()=>{n.style.display="none";n.className="notification";},2000);}document.querySelectorAll('input,textarea').forEach(i=>i.oninput=()=>{calcularAtributos();salvarDados();});carregarFichas();</script></body></html>
